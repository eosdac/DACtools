#!/usr/bin/env node

Eos=require('./src')
eos=Eos({verbose: false, debug: false, forceActionDataHex: true, keyProvider: ['5KQwrPbwdL6PhXujxW37FSSQZ1JiwsST4cqQzDeyXtP79zkvFD3']})

const context = {
  Eos,
  eos
}

function evalInContext(js, context) {
    return function() { return eval(js); }.call(context);
}

const js = process.argv.slice(2).join(' ')
console.log('> ', js)

const result = evalInContext(js, context)

Promise.resolve(result)
  .catch(e=>{console.error(e); process.exit(1)})
  .then(r=>{console.log(r); return r})
